<form role="form" [formGroup]="form">
  <mat-expansion-panel>
    <mat-expansion-panel-header>
      <mat-panel-title>
        <mat-form-field>
          <input matInput [formControl]="dateText" placeholder="datation" />
        </mat-form-field>
      </mat-panel-title>
      <mat-panel-description>
        <mat-icon *ngIf="invalidDateText" color="warn">alarm_off</mat-icon>
        <mat-icon
          *ngIf="!invalidDateText"
          [matBadge]="dateValue | number: '1.2-2'"
          >alarm_on</mat-icon
        >
      </mat-panel-description>
    </mat-expansion-panel-header>

    <cadmus-datation-editor
      [model$]="a$"
      (modelChange)="onDatationAChange($event)"
      [label]="'A'"
    ></cadmus-datation-editor>

    <cadmus-datation-editor
      [model$]="b$"
      (modelChange)="onDatationBChange($event)"
      [label]="'B'"
    ></cadmus-datation-editor>

    <button
      type="button"
      mat-icon-button
      color="primary"
      matTooltip="Set date from visuals"
      (click)="setDatations()"
    >
      <mat-icon>check_circle</mat-icon>
    </button>
  </mat-expansion-panel>
</form>
